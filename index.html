<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salient Object Detection</title>
    <style>
        /* Base Styles */
        :root {
          --background: #0d1117;
          --foreground: #c9d1d9;
          --primary: #00e6ac;
          --primary-hover: #00b386;
          --card: #21262d;
          --card-foreground: #c9d1d9;
          --muted: #30363d;
          --muted-foreground: #8b949e;
          --header: #161b22;
        }

        body {
          font-family: "Arial", sans-serif;
          margin: 0;
          padding: 0;
          background-color: var(--background);
          color: var(--foreground);
        }

        /* Header Styles */
        header {
          background-color: var(--header);
          padding: 20px 40px;
          position: fixed;
          width: 100%;
          top: 0;
          z-index: 1000;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
          box-sizing: border-box;
        }

        .header-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
          max-width: 1200px;
          margin: 0 auto;
        }

        .logo {
          font-size: 1.5rem;
          color: var(--primary);
          font-weight: bold;
        }

        .nav {
          list-style-type: none;
          display: flex;
          margin: 0;
          padding: 0;
        }

        .nav li {
          margin-left: 20px;
        }

        .nav a {
          text-decoration: none;
          color: var(--foreground);
          font-size: 1rem;
          padding: 10px 20px;
          border-radius: 30px;
          transition: all 0.3s ease-in-out;
        }

        .nav a:hover,
        .nav a.active {
          background: var(--primary);
          color: var(--background);
          box-shadow: 0px 0px 10px var(--primary);
        }

        /* Section Styles */
        .section {
          padding-top: 60px; /* Reduced from 100px to 60px */
          min-height: 100vh;
        }

        /* Hero Section */
        .hero {
          display: flex;
          min-height: 100vh;
          padding-top: 80px;
        }

        .hero-content {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          padding: 60px;
          max-width: 50%;
        }

        .hero-images {
          flex: 1;
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 20px;
          padding: 20px;
        }

        .hero-image {
          width: 30%;
          height: 400px;
          position: relative;
          overflow: hidden;
          border-radius: 10px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .hero-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .hero-image:hover img {
          transform: scale(1.05);
        }

        .hero-image-overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, rgba(13, 17, 23, 0.8) 0%, rgba(13, 17, 23, 0) 100%);
        }

        .hero h1 {
          font-size: 3.5rem;
          margin-bottom: 20px;
          line-height: 1.2;
        }

        .hero h1 span {
          color: var(--primary);
          display: block;
        }

        .hero p {
          font-size: 1.2rem;
          color: var(--muted-foreground);
          margin-bottom: 30px;
          line-height: 1.6;
        }

        .hero-buttons {
          display: flex;
          gap: 20px;
        }

        .button {
          display: inline-block;
          padding: 15px 30px;
          border-radius: 8px;
          font-size: 1.1rem;
          font-weight: bold;
          text-decoration: none;
          transition: all 0.3s ease;
        }

        .button-primary {
          background-color: var(--primary);
          color: var(--background);
        }

        .button-primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 5px 15px rgba(0, 230, 172, 0.4);
        }

        .button-secondary {
          background-color: transparent;
          color: var(--primary);
          border: 2px solid var(--primary);
        }

        .button-secondary:hover {
          background-color: var(--primary);
          color: var(--background);
        }

        /* Container and Panel Styles */
        .container {
          max-width: 1200px;
          margin: 40px auto;
          padding: 20px;
        }

        .panel {
          background-color: var(--card);
          border-radius: 12px;
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
          padding: 30px;
          margin-bottom: 30px;
        }

        .panel h2 {
          color: var(--primary);
          font-size: 1.8rem;
          margin-bottom: 20px;
          text-align: center;
        }

        /* Upload Form Styles */
        #uploadForm {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .file-upload {
          width: 100%;
          max-width: 400px;
          margin-bottom: 20px;
        }

        .file-upload input[type="file"] {
          display: none;
        }

        .file-upload label {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 30px;
          border: 2px dashed var(--muted);
          border-radius: 10px;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .file-upload label:hover {
          border-color: var(--primary);
          background-color: rgba(0, 230, 172, 0.05);
        }

        .upload-icon {
          color: var(--primary);
          margin-bottom: 15px;
          font-size: 2rem;
        }

        #file-name {
          font-size: 1.1rem;
          margin-bottom: 5px;
        }

        #file-size {
          font-size: 0.9rem;
          color: var(--muted-foreground);
        }

        #uploadButton {
          background-color: var(--primary);
          color: var(--background);
          border: none;
          padding: 12px 24px;
          border-radius: 8px;
          cursor: pointer;
          font-size: 18px;
          font-weight: bold;
          transition: background-color 0.3s, transform 0.2s;
        }

        #uploadButton:hover {
          background-color: var(--primary-hover);
          transform: scale(1.05);
        }

        /* Results Styles */
        #results {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
        }

        .result-item {
          background-color: var(--muted);
          border-radius: 10px;
          padding: 20px;
          text-align: center;
        }

        .result-item h3 {
          color: var(--primary);
          margin-bottom: 15px;
        }

        .result-item img {
          max-width: 100%;
          border-radius: 8px;
          border: 2px solid var(--primary);
        }

        /* About Page Styles */
        .about-content {
          max-width: 800px;
          margin: 0 auto;
        }

        .about-section {
          margin-bottom: 30px;
        }

        .about-section h3 {
          color: var(--primary);
          font-size: 1.3rem;
          margin-bottom: 15px;
        }

        .about-section p {
          margin-bottom: 15px;
          line-height: 1.6;
        }

        .about-list {
          list-style-type: disc;
          padding-left: 20px;
          margin-top: 10px;
        }

        .about-list li {
          margin-bottom: 8px;
          line-height: 1.5;
        }

        /* Payment Page Styles */
        .payment-content {
          max-width: 1000px;
          margin: 0 auto;
        }

        .payment-intro {
          text-align: center;
          margin-bottom: 30px;
          font-size: 1.1rem;
        }

        .pricing-plans {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 20px;
          margin-bottom: 40px;
        }

        .pricing-card {
          background-color: var(--muted);
          border-radius: 10px;
          padding: 25px;
          border: 2px solid var(--muted);
          transition: border-color 0.3s, box-shadow 0.3s;
          position: relative;
        }

        .pricing-card:hover {
          border-color: var(--primary);
        }

        .pricing-card.popular {
          border-color: var(--primary);
          box-shadow: 0 0 15px rgba(0, 230, 172, 0.3);
        }

        .popular-badge {
          position: absolute;
          top: -10px;
          left: 50%;
          transform: translateX(-50%);
          background-color: var(--primary);
          color: var(--background);
          font-size: 0.8rem;
          font-weight: bold;
          padding: 5px 10px;
          border-radius: 20px;
        }

        .pricing-header {
          text-align: center;
          margin-bottom: 20px;
          padding-top: 10px;
        }

        .pricing-header h3 {
          color: var(--primary);
          font-size: 1.5rem;
          margin-bottom: 10px;
        }

        .pricing-price {
          margin-top: 10px;
        }

        .price {
          font-size: 2rem;
          font-weight: bold;
        }

        .period {
          color: var(--muted-foreground);
        }

        .pricing-features {
          list-style-type: none;
          padding: 0;
          margin: 0 0 25px 0;
        }

        .pricing-features li {
          display: flex;
          align-items: center;
          margin-bottom: 12px;
        }

        .pricing-features li::before {
          content: "✓";
          color: var(--primary);
          margin-right: 10px;
          font-weight: bold;
        }

        .pricing-button {
          width: 100%;
          padding: 10px;
          border-radius: 8px;
          font-weight: bold;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .pricing-button.primary {
          background-color: var(--primary);
          color: var(--background);
          border: none;
        }

        .pricing-button.primary:hover {
          background-color: var(--primary-hover);
        }

        .pricing-button:not(.primary) {
          background-color: transparent;
          border: 2px solid var(--primary);
          color: var(--primary);
        }

        .pricing-button:not(.primary):hover {
          background-color: var(--primary);
          color: var(--background);
        }

        /* Feedback Page Styles */
        .feedback-content {
          max-width: 700px;
          margin: 0 auto;
        }

        .feedback-intro {
          text-align: center;
          margin-bottom: 30px;
          font-size: 1.1rem;
        }

        .feedback-form {
          margin-bottom: 30px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .form-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: bold;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
          width: 100%;
          padding: 12px;
          background-color: var(--muted);
          border: 1px solid var(--muted);
          border-radius: 8px;
          color: var(--foreground);
          font-size: 1rem;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 2px rgba(0, 230, 172, 0.2);
        }

        .rating {
          display: flex;
          justify-content: center;
          gap: 10px;
        }

        .star-btn {
          background: none;
          border: none;
          cursor: pointer;
          padding: 0;
          color: var(--muted-foreground);
          transition: color 0.2s, transform 0.2s;
          font-size: 2rem;
        }

        .star-btn:hover,
        .star-btn.active {
          color: var(--primary);
          transform: scale(1.1);
        }

        .form-submit {
          text-align: center;
          margin-top: 30px;
        }

        .submit-button {
          background-color: var(--primary);
          color: var(--background);
          border: none;
          padding: 12px 30px;
          border-radius: 8px;
          font-size: 1.1rem;
          font-weight: bold;
          cursor: pointer;
          transition: background-color 0.3s, transform 0.2s;
        }

        .submit-button:hover {
          background-color: var(--primary-hover);
          transform: scale(1.05);
        }

        /* Footer Styles */
        footer {
          background-color: var(--header);
          padding: 50px 0 20px;
          margin-top: 50px;
        }

        .footer-content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 20px;
        }

        .footer-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 30px;
          margin-top: 40px;
        }

        .footer-section h3 {
          color: var(--primary);
          font-size: 1.3rem;
          margin-bottom: 15px;
        }

        .footer-section h4 {
          color: var(--foreground);
          font-size: 1.1rem;
          margin-bottom: 15px; /* Changed from margin-top: -15px */
        }

        .footer-section p {
          color: var(--muted-foreground);
          line-height: 1.5;
          margin-bottom: 15px;
        }

        .footer-section ul {
          list-style-type: none;
          padding: 0;
          margin: 0;
        }

        .footer-section ul li {
          margin-bottom: 10px; /* Changed from margin-top: -80px */
        }

        .footer-section ul li a {
          color: var(--muted-foreground);
          text-decoration: none;
          transition: color 0.3s;
        }

        .footer-section ul li a:hover {
          color: var(--primary);
        }

        .footer-bottom {
          text-align: center;
          padding-top: 20px;
          border-top: 1px solid var(--muted);
          color: var(--muted-foreground);
          font-size: 0.9rem;
        }

        /* Progress and Loading Styles */
        .progress-container {
        width: 100%;
        max-width: 400px;
        background-color: var(--muted);
        border-radius: 10px; /* Rounded corners */
        margin: 20px auto; /* Center align */
        overflow: hidden;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Soft shadow */
    }

/* Progress Bar */
        .progress-bar {
            width: 0;
            height: 20px;
            background-color: var(--primary);
            text-align: center;
            line-height: 20px;
            color: var(--background);
            font-weight: bold; /* Make text readable */
            border-radius: 10px; /* Smooth edges */
            transition: width 0.3s ease-in-out;
        }

        #statusMessage {
        text-align: center;
        font-size: 14px;
        margin-top: 10px;
        font-weight: bold;
        color: var(--primary);
      }    

        .loading-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(13, 17, 23, 0.8);
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          z-index: 2000;
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.3s, visibility 0.3s;
        }

        .loading-overlay.active {
          opacity: 1;
          visibility: visible;
        }

        .spinner {
          width: 60px;
          height: 60px;
          border: 5px solid var(--muted);
          border-top: 5px solid var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        .loading-text {
          margin-top: 20px;
          color: var(--primary);
          font-size: 1.2rem;
          text-align: center;
        }

        /* Cache Info Styles */
        .cache-info {
          background-color: var(--muted);
          border-radius: 8px;
          padding: 10px 15px;
          margin-bottom: 20px;
          display: inline-block;
        }

        .cache-info.cached {
          border-left: 4px solid var(--primary);
        }

        .cache-info.not-cached {
          border-left: 4px solid #f97583;
        }

        .cache-controls {
          display: flex;
          justify-content: center;
          margin-top: 20px;
        }

        .clear-cache-btn {
          background-color: #f97583;
          color: var(--background);
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: bold;
          transition: background-color 0.3s;
        }

        .clear-cache-btn:hover {
          background-color: #e5534b;
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
          .hero {
            flex-direction: column;
          }

          .hero-content {
            padding: 40px 20px;
            max-width: 100%;
          }

          .hero-images {
            flex-direction: column;
            align-items: center;
          }

          .hero-image {
            width: 80%;
            height: 200px;
          }

          .hero h1 {
            font-size: 2.5rem;
          }
        }

        @media (max-width: 768px) {
          header {
            padding: 15px;
          }

          .header-content {
            flex-direction: column;
          }

          .logo {
            margin-bottom: 15px;
          }

          .nav {
            flex-wrap: wrap;
            justify-content: center;
          }

          .nav li {
            margin: 5px;
          }

          .nav a {
            padding: 8px 15px;
            font-size: 0.9rem;
          }

          .hero-buttons {
            flex-direction: column;
          }

          .button {
            width: 100%;
            text-align: center;
          }

          .pricing-plans {
            grid-template-columns: 1fr;
          }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">Salient Object Detection</div>
            <ul class="nav">
                <li><a href="#home" class="active">Home</a></li>
                <li><a href="#detection">Detection</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#payment">Payment</a></li>
                <li><a href="#feedback">Feedback</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </div>
    </header>

    <div id="home" class="section" >
        <main class="hero">
            <div class="hero-content" >
                <h1>
                    Welcome to
                    <span>Salient Object Detection</span>
                </h1>
                <p>
                    Detect and analyze the most important parts of your images with ease. Our advanced AI-powered system accurately identifies and highlights key objects, making it perfect for content creators, designers, and developers.
                </p>
                <div class="hero-buttons">
                    <a href="#detection" class="button button-primary">Try Detection</a>
                    <a href="#about" class="button button-secondary">Learn More</a>
                </div>
            </div>
            <div class="hero-images">
                <div class="hero-image">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ILSVRC2012_test_00005309_selfmask.jpg-x5ZwMNznb6nUbSPMeTbQbNZfY0pTJm.jpeg" alt="Yellow butterfly on pink flower">
                    <div class="hero-image-overlay"></div>
                </div>
                <div class="hero-image">
                  <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ILSVRC2012_test_00005309_selfmask.jpg-x5ZwMNznb6nUbSPMeTbQbNZfY0pTJm.jpeg" alt="Yellow butterfly on pink flower">
                  <div class="hero-image-overlay"></div>
              </div>
                <div class="hero-image">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ILSVRC2012_test_00005309_selfmask.jpg-x5ZwMNznb6nUbSPMeTbQbNZfY0pTJm.jpeg" alt="Yellow butterfly on pink flower">
                    <div class="hero-image-overlay"></div>
                </div>
            </div>
        </main>
    </div>

    <div id="detection" class="section">
        <div class="container">
            <div class="panel" id="uploadSection">
                <h2>Upload Image</h2>
                <form id="uploadForm" enctype="multipart/form-data">
                    <div class="file-upload">
                        <input type="file" id="file" name="file" accept="image/*" required>
                        <label for="file">
                            <div class="upload-icon">📁</div>
                            <div id="file-name">No file selected</div>
                            <div id="file-size">Drag & drop or click to select</div>
                        </label>
                    </div>
                    <button type="submit" id="uploadButton">Upload Image</button>
                </form>
                <div class="progress-container" style="display: none;">
                    <div class="progress-bar" id="uploadProgress">0%</div>
                </div>
                <div id="statusMessage"></div>
            </div>

            <div class="panel" id="resultsPanel" style="display: none;">
                <h2>Detection Results</h2>
                
                <div id="cacheStatus"></div>
                
                <div id="results">
                    <div class="result-item">
                        <h3>Original Image</h3>
                        <img id="originalImage" src="/placeholder.svg" alt="Original Image">
                    </div>
                    <div class="result-item">
                        <h3>Saliency Mask</h3>
                        <img id="maskImage" src="/placeholder.svg" alt="Saliency Mask">
                    </div>
                    <div class="result-item">
                        <h3>Heatmap Overlay</h3>
                        <img id="heatmapImage" src="/placeholder.svg" alt="Heatmap Overlay">
                    </div>
                </div>
                
               
            </div>
        </div>
    </div>

    <div id="about" class="section">
        <div class="container">
            <div class="panel">
                <h2>About Salient Object Detection</h2>
                <div class="about-content">
                    <div class="about-section">
                        <h3>Our Mission</h3>
                        <p>
                            At Salient Object Detection, our mission is to provide cutting-edge computer vision solutions that help users identify and extract the most important elements in their images. We believe in making advanced AI technology accessible to everyone, from professional designers to casual content creators.
                        </p>
                    </div>

                    <div class="about-section">
                        <h3>What is Salient Object Detection?</h3>
                        <p>
                            Salient object detection is a computer vision technique that identifies the most visually distinctive objects in an image. It mimics the human visual system's ability to quickly focus on important elements within a scene. Our technology uses state-of-the-art deep learning models to accurately identify these salient objects and create precise masks and heatmaps.
                        </p>
                    </div>

                    <div class="about-section">
                        <h3>Applications</h3>
                        <p>
                            Our salient object detection technology has numerous practical applications:
                        </p>
                        <ul class="about-list">
                            <li><strong>Content Creation:</strong> Automatically focus on the most important elements in your images for more effective visual storytelling.</li>
                            <li><strong>Image Editing:</strong> Quickly isolate objects for editing, removing backgrounds, or applying effects.</li>
                            <li><strong>UX Research:</strong> Understand what elements of your designs naturally draw user attention.</li>
                            <li><strong>E-commerce:</strong> Highlight products in catalog images to improve customer engagement.</li>
                            <li><strong>Medical Imaging:</strong> Assist in identifying regions of interest in medical scans.</li>
                            <li><strong>Autonomous Systems:</strong> Help robots and vehicles identify important objects in their environment.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="payment" class="section">
        <div class="container">
            <div class="panel">
                <h2>Pricing Plans</h2>
                <div class="payment-content">
                    <div class="payment-intro">
                        <p>Choose the plan that best fits your needs. All plans include access to our core salient object detection technology.</p>
                    </div>

                    <div class="pricing-plans">
                        <div class="pricing-card">
                            <div class="pricing-header">
                                <h3>Basic</h3>
                                <p>Perfect for individuals and small projects</p>
                                <div class="pricing-price">
                                    <span class="price">$9.99</span>
                                    <span class="period">/month</span>
                                </div>
                            </div>
                            <ul class="pricing-features">
                                <li>100 image detections per month</li>
                                <li>Standard resolution support</li>
                                <li>Basic mask and heatmap generation</li>
                                <li>24-hour result storage</li>
                                <li>Email support</li>
                            </ul>
                            <button class="pricing-button primary">Get Started</button>
                        </div>

                        <div class="pricing-card popular">
                            <div class="popular-badge">Most Popular</div>
                            <div class="pricing-header">
                                <h3>Pro</h3>
                                <p>Ideal for professionals and growing businesses</p>
                                <div class="pricing-price">
                                    <span class="price">$24.99</span>
                                    <span class="period">/month</span>
                                </div>
                            </div>
                            <ul class="pricing-features">
                                <li>500 image detections per month</li>
                                <li>High resolution support</li>
                                <li>Advanced mask and heatmap generation</li>
                                <li>7-day result storage</li>
                                <li>Priority email support</li>
                                <li>Batch processing</li>
                                <li>API access</li>
                            </ul>
                            <button class="pricing-button primary">Get Started</button>
                        </div>

                        <div class="pricing-card">
                            <div class="pricing-header">
                                <h3>Enterprise</h3>
                                <p>For organizations with high-volume needs</p>
                                <div class="pricing-price">
                                    <span class="price">$99.99</span>
                                    <span class="period">/month</span>
                                </div>
                            </div>
                            <ul class="pricing-features">
                                <li>Unlimited image detections</li>
                                <li>Ultra-high resolution support</li>
                                <li>Premium mask and heatmap generation</li>
                                <li>30-day result storage</li>
                                <li>24/7 priority support</li>
                                <li>Advanced batch processing</li>
                                <li>Full API access with higher rate limits</li>
                                <li>Custom integration assistance</li>
                                <li>Dedicated account manager</li>
                            </ul>
                            <button class="pricing-button primary">Get Started</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="feedback" class="section">
        <div class="container">
            <div class="panel">
                <h2>Share Your Feedback</h2>
                <div class="feedback-content">
                    <div class="feedback-intro">
                        <p>We value your opinion! Please share your thoughts and experiences with our salient object detection service. Your feedback helps us improve and better serve your needs.</p>
                    </div>

                    <form class="feedback-form" id="feedbackForm">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" id="name" name="name" placeholder="Your name" required>
                        </div>

                        <div class="form-group">
                                                 
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="Your email address" required>
                        </div>

                        <div class="form-group">
                            <label>How would you rate your experience?</label>
                            <div class="rating">
                                <button type="button" class="star-btn" data-rating="1">★</button>
                                <button type="button" class="star-btn" data-rating="2">★</button>
                                <button type="button" class="star-btn" data-rating="3">★</button>
                                <button type="button" class="star-btn" data-rating="4">★</button>
                                <button type="button" class="star-btn" data-rating="5">★</button>
                            </div>
                            <input type="hidden" id="rating" name="rating" value="0">
                        </div>

                        <div class="form-group">
                            <label for="feedbackType">Type of Feedback</label>
                            <select id="feedbackType" name="feedbackType" required>
                                <option value="">Select feedback type</option>
                                <option value="general">General Feedback</option>
                                <option value="bug">Bug Report</option>
                                <option value="feature">Feature Request</option>
                                <option value="improvement">Improvement Suggestion</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="feedback">Your Feedback</label>
                            <textarea id="feedback" name="feedback" rows="6" placeholder="Please share your thoughts, suggestions, or report any issues you've encountered..." required></textarea>
                        </div>

                        <div class="form-group">
                            <label for="improvements">What improvements would you like to see?</label>
                            <textarea id="improvements" name="improvements" rows="4" placeholder="Any specific features or improvements you'd like us to consider..."></textarea>
                        </div>

                        <div class="form-submit">
                            <button type="submit" class="submit-button">Submit Feedback</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Salient Object Detection</h3>
                    <p>Advanced AI-powered system for detecting and highlighting key objects in images.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#detection">Detection</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#payment">Payment</a></li>
                        <li><a href="#feedback">Feedback</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>Email: info@salientdetection.com</p>
                    <p>Phone: +1 (555) 123-4567</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> Salient Object Detection. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Loading overlay with progress bar -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <div class="loading-text" id="loadingText">Processing image...</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // File upload handling
            const fileInput = document.getElementById('file');
            const fileName = document.getElementById('file-name');
            const fileSize = document.getElementById('file-size');
            const uploadForm = document.getElementById('uploadForm');
            const progressContainer = document.querySelector('.progress-container');
            const uploadProgress = document.getElementById('uploadProgress');
            const statusMessage = document.getElementById('statusMessage');
            const resultsPanel = document.getElementById('resultsPanel');
            const loadingOverlay = document.getElementById('loadingOverlay');
            
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            if (fileInput) {
                fileInput.addEventListener('change', function() {
                    if (this.files && this.files[0]) {
                        const file = this.files[0];
                        fileName.textContent = file.name;
                        fileSize.textContent = formatFileSize(file.size);
                    } else {
                        fileName.textContent = 'No file selected';
                        fileSize.textContent = 'Drag & drop or click to select';
                    }
                });
            }
            
            if (uploadForm) {
                uploadForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Show loading overlay
                    loadingOverlay.classList.add('active');
                    
                    // Show progress bar
                    progressContainer.style.display = 'block';
                    uploadProgress.style.width = '0%';
                    uploadProgress.textContent = '0%';
                    statusMessage.textContent = 'Uploading image...';
                    
                    const formData = new FormData(uploadForm);
                    
                    // Simulate upload progress
                    let progress = 0;
                    const interval = setInterval(function() {
                        progress += 5;
                        uploadProgress.style.width = progress + '%';
                        uploadProgress.textContent = progress + '%';
                        
                        if (progress >= 100) {
                            clearInterval(interval);
                        }
                    }, 100);
                    
                    // Send the actual request to the server
                    fetch('/upload', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => {
                        clearInterval(interval);
                        uploadProgress.style.width = '100%';
                        uploadProgress.textContent = '100%';
                        
                        if (!response.ok) {
                            return response.json().then(data => {
                                throw new Error(data.error || 'Error processing image');
                            });
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Hide loading overlay
                        loadingOverlay.classList.remove('active');
                        
                        // Display results
                        document.getElementById('originalImage').src = data.image_path;
                        document.getElementById('maskImage').src = data.mask_path;
                        document.getElementById('heatmapImage').src = data.heatmap_path;
                        
                        const cacheStatus = document.getElementById('cacheStatus');
                        if (data.is_cached) {
                            cacheStatus.innerHTML = `
                                <div class="cache-info cached">
                                    <p>✓ Results loaded from cache - Instant processing</p>
                                </div>
                            `;
                        } else {
                            cacheStatus.innerHTML = `
                                <div class="cache-info not-cached">
                                    <p>⚙️ Newly processed image - Results have been cached for future use</p>
                                </div>
                            `;
                        }
                        
                        resultsPanel.style.display = 'block';
                        statusMessage.textContent = 'Image processed successfully!';
                    })
                    .catch(error => {
                        // Hide loading overlay
                        loadingOverlay.classList.remove('active');
                        statusMessage.textContent = error.message;
                        console.error('Error:', error);
                    });
                });
            }
            
            // Clear cache button
            const clearCacheBtn = document.getElementById('clearCacheBtn');
            if (clearCacheBtn) {
                clearCacheBtn.addEventListener('click', function() {
                    fetch('/clearCache', {
                        method: 'POST'
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Error clearing cache');
                        }
                        alert('Cache cleared successfully!');
                    })
                    .catch(error => {
                        alert('Error clearing cache: ' + error.message);
                    });
                });
            }
            
            // Smooth scrolling for navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
            
            // Update active navigation link on scroll
            window.addEventListener('scroll', () => {
                let current = '';
                document.querySelectorAll('.section').forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });
                
                document.querySelectorAll('.nav a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            });
            
            // Rating system
            const starButtons = document.querySelectorAll('.star-btn');
            const ratingInput = document.getElementById('rating');

            starButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const rating = this.getAttribute('data-rating');
                    ratingInput.value = rating;
                    
                    // Update star appearance
                    starButtons.forEach(btn => {
                        const btnRating = btn.getAttribute('data-rating');
                        if (btnRating <= rating) {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                });
            });

            // Feedback form submission
            const feedbackForm = document.getElementById('feedbackForm');
            if (feedbackForm) {
                feedbackForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    alert('Thank you for your feedback! We appreciate your input.');
                    feedbackForm.reset();
                    starButtons.forEach(btn => btn.classList.remove('active'));
                    ratingInput.value = 0;
                });
            }
        });
    </script>
</body>
</html>

